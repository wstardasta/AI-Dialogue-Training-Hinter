# 提示词助手插件 - 安装说明

## 前置要求

1. **Node.js** - 需要安装 Node.js (版本 14 或更高)
   - 下载地址：https://nodejs.org/
   - 安装后验证：在命令行运行 `node --version`

2. **Cursor 或 VS Code** - 需要安装 Cursor IDE 或 Visual Studio Code

## 安装步骤

### 第一步：安装依赖

打开命令行（PowerShell 或 CMD），进入项目目录：

```powershell
cd C:\ProptPal-AI
npm install
```

这将安装以下依赖：
- `@types/vscode` - VS Code API 类型定义
- `@types/node` - Node.js 类型定义
- `typescript` - TypeScript 编译器

### 第二步：编译项目

```powershell
npm run compile
```

这将把 TypeScript 代码编译成 JavaScript，输出到 `out` 目录。

### 第三步：在 Cursor 中运行插件

1. 打开 Cursor
2. 打开项目文件夹 `C:\ProptPal-AI`
3. 按 `F5` 键，这将：
   - 启动一个新的 Cursor 窗口（扩展开发宿主）
   - 在新窗口中加载你的插件

### 第四步：测试插件

在新打开的 Cursor 窗口中：

1. 按 `Ctrl+Shift+P` (Windows) 或 `Cmd+Shift+P` (Mac) 打开命令面板
2. 输入 "打开提示词助手"
3. 应该会看到一个提示词助手面板

## 打包插件（可选）

如果你想将插件打包成 `.vsix` 文件以便分发：

```powershell
npm install -g @vscode/vsce
vsce package
```

这将生成一个 `.vsix` 文件，可以在 Cursor/VSCode 中通过 "从 VSIX 安装扩展" 来安装。

## 常见问题

### 问题1：npm install 失败

**解决方案：**
- 确保已安装 Node.js
- 尝试使用管理员权限运行命令行
- 如果网络问题，可以使用国内镜像：
  ```powershell
  npm config set registry https://registry.npmmirror.com
  ```

### 问题2：编译错误

**解决方案：**
- 确保所有依赖都已正确安装
- 检查 TypeScript 版本是否兼容
- 查看错误信息，可能需要更新 `@types/vscode` 版本

### 问题3：插件无法加载

**解决方案：**
- 确保已运行 `npm run compile`
- 检查 `out` 目录是否存在编译后的文件
- 查看 Cursor 的输出面板中的错误信息

## 开发调试

### 修改代码后

每次修改 TypeScript 代码后，需要重新编译：

```powershell
npm run compile
```

或者使用监听模式（自动编译）：

```powershell
npm run watch
```

### 查看日志

在扩展开发宿主窗口中，打开"输出"面板，选择"Log (Extension Host)"查看插件日志。

## 下一步

- 阅读 `README.md` 了解插件功能
- 查看 `src/extension.ts` 了解插件入口
- 根据需要修改和扩展功能

祝你使用愉快！🎉

